# Чат-бот EventNotify - рассылка уведомлений о событиях в Санкт-Петербурге

# Содержание
- [Возможности](#возможности)
- [Технологии](#технологии)
- [Установка](#установка)
- [Переменные окружения](#переменные-окружения)
- [Зависимости](#зависимости)
- [Запуск](#запуск)

## Возможности
Данное приложение собирает актуальные данные о событиях, кино, спектаклях в г. Санкт-Петербург по апи сервиса [KudaGo](https://docs.kudago.com/api/)
Взаимодействует с чат-бот сервиса тегеграм по [апи телеграм](https://core.telegram.org) и отправляет уведомления пользователю на ежедневной основе путём добавления id чата в список расписания или по запросу пользователя.

Можно:
- Подписаться на уведомления
- Отписаться от уведомлений
- Запросить список событий без подписки

## Технологии
Код проекта написан на python3 с применением микро фреймворка Flask и встроенной базы данных SQLite
Использованы апи сервисов KudaGo и API Telegram

## Установка
Для установки проекта на ПК, исходный код необходимо скачать
- Github, на главной странице [проекта](https://github.com/belousovsergey56/EventNotify)
- Нажать на зелёную кнопку `Code`
- В всплывающем окне выбрать `Download ZIP`
- Разархивировать код проекта в нужную директорию на ПК

## Переменные окружения

Для корректой работы программы, нужно:
- Создать файл `.env` в корне проекта, файл с точкой в начале имени (чтобы был скрыт в системе) 
- Добавить в него переменные, точное имя перененных для копирования ниже
```text
url_kuda_go = https://kudago.com/public-api
api_version = v1.4
tg_token = токен телеграм бота, можно скопировать у BotFather
tg_url = https://api.telegram.org
```

## Зависимости
- python - 3.13
- Flask - 3.1.2
- requests - 2.32.5
- apscheduler - 3.11.1
- python-dotenv - 1.2.1
- сервис для туннелирования (ngrok, tuna, etc.) - нет в файле зависимостей `requirements.txt` т.к. внешний сервис

## Запуск

- Установка зависимостей
```bash
pip install -r requirements.txt
```

- Запуск сервиса туннелирования
```bash
tuna http 5000
```

- Запуск приложения
> Вместо `localhost` нужно прописать https адрес предоставленный сервисом туннелирования
```bash
py main.py localhost
```
